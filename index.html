<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2019-01-25 Fri 18:49 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Formula Embedded Wiki</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Forumula Embedded" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link type="text/css" rel="stylesheet" href="css/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="css/style.css" />
<script type="text/javascript" src="js/jquery-2.1.3.min.js"></script>
<script type="text/javascript" src="js/jquery-ui.min.js"></script>
<script type="text/javascript" src="js/jquery.tocify.min.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/org-bootstrap.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2018 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Formula Embedded Wiki</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgffc0b76">About</a>
<ul>
<li><a href="#org23ded0f">What's the point of this?</a></li>
<li><a href="#org9e2e31a">Where do I run this?</a></li>
<li><a href="#org519c86e">FAQ</a></li>
</ul>
</li>
<li><a href="#orgdc4d0a8">ROS</a>
<ul>
<li><a href="#org1bf229f">ROS Layout</a></li>
<li><a href="#org6365a17">Development Philosophy</a></li>
</ul>
</li>
<li><a href="#orgc9af36a">Can Bus</a>
<ul>
<li><a href="#org036f2a4">CAN Transceiver</a></li>
<li><a href="#org2f76cf4">Wiring</a></li>
<li><a href="#org352c6be">Software</a></li>
</ul>
</li>
<li><a href="#orgfa8eb8d">IMU</a></li>
<li><a href="#orgec84cd4">Analog Sensors</a></li>
<li><a href="#org093af90">Digital Sensors</a></li>
<li><a href="#orge60e845">4G LTE</a></li>
<li><a href="#orgd4166b2">License</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgffc0b76" class="outline-2">
<h2 id="orgffc0b76">About</h2>
<div class="outline-text-2" id="text-orgffc0b76">
</div>
<div id="outline-container-org23ded0f" class="outline-3">
<h3 id="org23ded0f">What's the point of this?</h3>
<div class="outline-text-3" id="text-org23ded0f">
<p>
The purpose of this project is to provide both real time transmission of 
sensor data from our formula style electric vehicle and local storage 
for this data. In addition to collecting the data this project is also 
meant to filter these data signals, interface to the motor controllers, 
and provide support for future features such as active aerodynamics, traction 
control, etc.
</p>
</div>
</div>

<div id="outline-container-org9e2e31a" class="outline-3">
<h3 id="org9e2e31a">Where do I run this?</h3>
<div class="outline-text-3" id="text-org9e2e31a">
<p>
This software is based around <a href="http://www.ros.org">ROS</a> and, is meant to be ran on an Nvidia
Jetson Tx2. In addition to this SOC there are other sensors and boards 
necessary to communicate with other parts of the system. For a full
parts list refer to the internal document found on the Google Drive.
</p>
</div>
</div>

<div id="outline-container-org519c86e" class="outline-3">
<h3 id="org519c86e">FAQ</h3>
<div class="outline-text-3" id="text-org519c86e">
</div>
<div id="outline-container-org240a419" class="outline-4">
<h4 id="org240a419">Why ROS?</h4>
<div class="outline-text-4" id="text-org240a419">
<p>
This is the most commonly asked question we get when we're asked by other
computer science students or engineers. The answer to that question is that
it provides an excellent means of inter-process communication so that multiple
processes written in different languages can communicate efficiently and reliably.
Additionally it's one of the most documented and well supported frameworks that plays
well with our hardware platform. Lastly it enables us to reuse software so we can focus
on adding features to our system without compromising its reliability. 
</p>
</div>
</div>
<div id="outline-container-orgc7fa8b3" class="outline-4">
<h4 id="orgc7fa8b3">Why the Nvidia Jetson?</h4>
<div class="outline-text-4" id="text-orgc7fa8b3">
<p>
This was chosen with a couple of considerations in mind such as I/O availability, 
flexibility, and speed. It provides all of the necessary means of communication 
with our sensors and ECUs found on our electric vehicle.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-orgdc4d0a8" class="outline-2">
<h2 id="orgdc4d0a8">ROS</h2>
<div class="outline-text-2" id="text-orgdc4d0a8">
</div>
<div id="outline-container-org1bf229f" class="outline-3">
<h3 id="org1bf229f">ROS Layout</h3>
<div class="outline-text-3" id="text-org1bf229f">

<div class="figure">
<p><img src="ROS/JetsonRoshtml_2019-01-25_18-04-50.png" alt="JetsonRoshtml_2019-01-25_18-04-50.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-org6365a17" class="outline-3">
<h3 id="org6365a17">Development Philosophy</h3>
<div class="outline-text-3" id="text-org6365a17">
<p>
We keep a few things in mind when designing and implementing new ROS nodes.
</p>
<ol class="org-ol">
<li>How maintainable each node will be in the future.</li>
<li>How reusable each node will be in the future.</li>
</ol>

<p>
Understanding how ROS messages and processes are function is essential in making
wise design decisions. Most people are quick to think that by eliminating ROS Nodes
will make the system more efficent however this isnt always the case. Additionally
it's important that design a system that more monolithic makes each node more 
difficult to maintain and reduces the reusebility of the software (comp 380?).
Therefore when looking to improve the system by either adding additional functionality
or making improvements to performance it's important to make sure that each node performs
a single function (e.g. getting data from a single device and publishing its data). The 
rest of the sections of the wiki will not necessarily describe individual ROS nodes but 
instead describe parts of the system refrencing ROS nodes along the way that handle 
that part of the system. NOTE to maintainers: Update the ROS diagram you wont be the 
only person developing this so keep the next person informed.
</p>
</div>
</div>
</div>
<div id="outline-container-orgc9af36a" class="outline-2">
<h2 id="orgc9af36a">Can Bus</h2>
<div class="outline-text-2" id="text-orgc9af36a">
</div>
<div id="outline-container-org036f2a4" class="outline-3">
<h3 id="org036f2a4">CAN Transceiver</h3>
<div class="outline-text-3" id="text-org036f2a4">

<div class="figure">
<p><img src="Can%20Bus/SN65HVD230-CAN-Board-2_2019-01-25_18-22-08.jpg" alt="SN65HVD230-CAN-Board-2_2019-01-25_18-22-08.jpg" />
</p>
</div>
</div>
<div id="outline-container-orga1b27c1" class="outline-4">
<h4 id="orga1b27c1">SN65HVD230 CAN Board</h4>
<div class="outline-text-4" id="text-orga1b27c1">
<p>
Two Can Bus transceivers were used on this system. One was used
to communicate to the Motor Controller Unit and the other was meant
for future expansion. 
</p>
</div>
</div>
</div>

<div id="outline-container-org2f76cf4" class="outline-3">
<h3 id="org2f76cf4">Wiring</h3>
<div class="outline-text-3" id="text-org2f76cf4">
<ul class="org-ul">
<li>These transceivers are connected to the Jetson Tx2 using the J21 header.</li>
</ul>
</div>
<div id="outline-container-org5e5872b" class="outline-4">
<h4 id="org5e5872b">Can Bus 0</h4>
<div class="outline-text-4" id="text-org5e5872b">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Device Pin</th>
<th scope="col" class="org-left">Jetson Pin</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">3.3v</td>
<td class="org-left">(J26 Header)              2</td>
</tr>

<tr>
<td class="org-left">GND</td>
<td class="org-left">(J26 Header)             11</td>
</tr>

<tr>
<td class="org-left">CAN<sub>RX</sub></td>
<td class="org-left">(J26 Header)              5</td>
</tr>

<tr>
<td class="org-left">CAN<sub>TX</sub></td>
<td class="org-left">(J26 Header)              7</td>
</tr>
</tbody>
</table>
</div>
</div>



<div id="outline-container-org7146820" class="outline-4">
<h4 id="org7146820">Can Bus 1</h4>
<div class="outline-text-4" id="text-org7146820">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Device Pin</th>
<th scope="col" class="org-left">Jetson Pin</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">3.3v</td>
<td class="org-left">(J21 Header)             17</td>
</tr>

<tr>
<td class="org-left">GND</td>
<td class="org-left">(J26 Header)             21</td>
</tr>

<tr>
<td class="org-left">CAN<sub>RX</sub></td>
<td class="org-left">(J26 Header)             15</td>
</tr>

<tr>
<td class="org-left">CAN<sub>TX</sub></td>
<td class="org-left">(J26 Header)             17</td>
</tr>
</tbody>
</table>
</div>
</div>




<div id="outline-container-orgd8d2891" class="outline-4">
<h4 id="orgd8d2891">J21 Header</h4>
</div>
<div id="outline-container-orgf4c1bba" class="outline-4">
<h4 id="orgf4c1bba">Connections</h4>
</div>
</div>
<div id="outline-container-org352c6be" class="outline-3">
<h3 id="org352c6be">Software</h3>
<div class="outline-text-3" id="text-org352c6be">
<p>
The software to support this device is actually split up into two ROS nodes. The 
first is located in I2C<sub>IMU</sub> and the other is in temp<sub>and</sub><sub>pressure</sub>. This Waveshare
device is actually composed to two separate devices the MPU-9255 and the BMP280
which have two separate addresses on the I2C bus. The MPU-9255 is composed of a
gyroscope, accelerometer, and compass. The BMP280 is a pressure/temperature sensor.
</p>
</div>
</div>
</div>
<div id="outline-container-orgfa8eb8d" class="outline-2">
<h2 id="orgfa8eb8d">IMU</h2>
</div>
<div id="outline-container-orgec84cd4" class="outline-2">
<h2 id="orgec84cd4">Analog Sensors</h2>
</div>
<div id="outline-container-org093af90" class="outline-2">
<h2 id="org093af90">Digital Sensors</h2>
</div>
<div id="outline-container-orge60e845" class="outline-2">
<h2 id="orge60e845">4G LTE</h2>
</div>
<div id="outline-container-orgd4166b2" class="outline-2">
<h2 id="orgd4166b2">License</h2>
<div class="outline-text-2" id="text-orgd4166b2">
<p>
The MIT License (MIT)
</p>

<p>
Copyright (c) 2019 CSUN Formula SAE
</p>

<p>
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
</p>

<p>
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.
</p>

<p>
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Forumula Embedded</p>
<p class="date">Created: 2019-01-25 Fri 18:49</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
